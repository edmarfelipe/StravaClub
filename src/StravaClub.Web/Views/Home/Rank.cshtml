@model List<RankDto>

@{
	int goal = Convert.ToInt32(ViewBag.Goal);
}

@if (Model.Any())
{
	var isYear = Context.Request.Path.Value.Contains("year");

	<div class="rank">
		<ul class="radio-button">
			<li><a href="/month" class="@(!isYear ? "active": "")">Mês</a></li>
			<li><a href="/year"  class="@(isYear ? "active": "")">Ano</a></li>
		</ul>
		<ul>
			@for (int i = 0; i < Model.Count; i++)	
			{
				var item = Model[i];
				var progress = (item.Distance / goal).ToString("0.00%");

				<li class="item">
					<div class="avatar">
						<img src="@item.Avatar" />
						<div class="rank-label">
							@(i + 1)
						</div>
					</div>
					<div class="content">
						<div class="content-details">
							<span class="name">@item.Name</span>
							<div class="numbers">
								<span class="distance">@(item.Distance + "km")</span>
								<span class="time">@item.Time.FormatToStravaTime()</span>
								<span class="elevation">@(item.Elevation + "m") </span>
							</div>
						</div>
						<div class="progress-bar" style="width: @progress;"></div>
					</div>
				</li>
			}
		</ul>
	</div>
}
else
{
	<p class="alert">Nothing to show here. 🚲</p>
}




